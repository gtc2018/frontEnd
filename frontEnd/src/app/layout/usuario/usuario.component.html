<div [@routerTransition]>
    <app-page-header [heading]="'Usuario'" [icon]="'fa-table'"></app-page-header>
    <div class="row">


        <div class="col col-xl-12 col-lg-12">
            <!--DIV BOTON NUEVO USUARIO -->
            <div style="text-align:left">

                <button type="submit" class="btn btn-success mb-2" (click)="toggleDivCreateUsers()" blueColored>
                    <span class="fa fa-plus"></span> Nuevo usuario
                </button>

            </div>
            <!--FIN DIV BOTON NUEVO USUARIO -->

            <!--ALERT MENSAJES -->
            <div *ngIf="!isValid" role="alert" class="alert alert-danger alert-dismissible">
                {{message}}
                <button aria-label="Close" class="close" type="button">
                    <span aria-hidden="true">×</span>
                </button>
                <strong></strong>
            </div>
            <!--FIN ALERT MENSAJES -->

            <div class="card mb-3" *ngIf="visible">

                <div class="card-header">Usuarios</div>

                <div class="container">
                    <form>
                        <div class="form-group row">



                            <div class="col col-xl-6 col-lg-12">
                                <br>
                                <div class="row">
                                    <label for="inputEmail3" class="col-sm-4 col-form-label">
                                        <span class="required">*</span> Nombre Usuario</label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" name="nombres" id="nombres" [(ngModel)]="usuario.nombres" placeholder="Nombres" required>
                                    </div>
                                </div>
                                <br>
                                <div class="row">
                                    <label for="inputEmail3" class="col-sm-4 col-form-label">
                                        <span class="required">*</span> Apellidos</label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" name="apellidos" id="apellidos" [(ngModel)]="usuario.apellidos" placeholder="Apellidos"
                                            required>
                                    </div>
                                </div>
                                <br>
                                <div class="row">
                                    <label for="inputEmail3" class="col-sm-4 col-form-label">
                                        <span class="required">*</span> Email: </label>
                                    <div class="col-sm-8">
                                        <input type="email" class="form-control" name="email" id="email" [(ngModel)]="usuario.email" placeholder="email" required>
                                    </div>
                                </div>
                                <br>
                                <div class="row">
                                    <label for="inputEmail3" class="col-sm-4 col-form-label">
                                        <span class="required">*</span>Telefono:</label>
                                    <div class="col-sm-8">
                                        <input type="tel" class="form-control" name="telefono" id="telefono" [(ngModel)]="usuario.telefono" placeholder="telefono"
                                            required>
                                    </div>
                                </div>
                                <br>
                                <div class="row">


                                    <label for="inputEmail3" class="col-sm-4 col-form-label">
                                        <span class="required">*</span> F. Nacimiento:</label>
                                    <div class="col-sm-8">
                                        <div _ngcontent-c14="" class="input-group">
                                            <input _ngcontent-c14="" id="fechaNacimiento" class="form-control ng-untouched ng-pristine ng-valid" name="dp" ngbdatepicker=""
                                                placeholder="yyyy-mm-dd" ng-reflect-name="dp">
                                            <div _ngcontent-c14="" class="input-group-addon">
                                                <span _ngcontent-c14="" class="fa fa-calendar"></span>
                                            </div>


                                        </div>
                                    </div>

                                    <div>

                                    </div>


                                </div>
                            </div>
                            <div class="col col-xl-6 col-lg-12">
                                <br>
                                <div class="row">
                                    <label for="inputEmail3" class="col-sm-4 col-form-label">
                                        <span class="required">*</span>Rol:</label>
                                    <div class="col-sm-8">
                                        <select id="inputState" class="form-control" name="rolId" id="rol_id" [(ngModel)]="usuario.rolId">
                                            <option selected>Administrador</option>
                                            <option>...</option>
                                        </select>
                                    </div>
                                </div>
                                <br>
                                <div class="row">
                                    <label for="inputEmail3" class="col-sm-4 col-form-label">
                                        <span class="required">*</span>Contraseña: </label>
                                    <div class="col-sm-8">
                                        <input type="password" class="form-control" name="password" id="password1" [(ngModel)]="usuario.password" placeholder="Contraseña">
                                    </div>
                                </div>
                                <br>
                                <div class="row">
                                    <label for="inputEmail3" class="col-sm-4 col-form-label">
                                        <span class="required">*</span>Confirmacion: </label>
                                    <div class="col-sm-8">
                                        <input type="password" class="form-control" id="password2" placeholder="Confirme contraseña">
                                    </div>
                                </div>
                                <br>
                                <fieldset _ngcontent-c7="" class="form-group">
                                    <label _ngcontent-c7="" class="ng-tns-c7-5">. Estado</label>
                                    <div _ngcontent-c7="" class="radio">
                                        <label _ngcontent-c6="" class="ng-tns-c6-1">
                                            <input _ngcontent-c6="" class="ng-tns-c6-1" type="checkbox" value="" checked id="estado" name="estado"> Activo
                                        </label>
                                    </div>
                                </fieldset>
                                <br>
                                <div class="row">

                                    <div class="col-sm-4">
                                        <button type="submit" (click)="saveOrUpdate()" class="btn btn-lg btn-block btn-info btn-save-user">Guardar</button>
                                    </div>
                                </div>
                            </div>



                        </div>

                    </form>
                </div>


            </div>
            <div class="card mb-3">
                <div class="card-header">
                    <div class="row">
                        <label for="inputEmail3" class="col-sm-2 col-form-label">Buscar por:</label>
                        <div class="col-sm-2">
                            <div _ngcontent-c14="" class="input-group">
                                <select id="inputState" class="form-control">
                                    <option selected>Nombres</option>
                                    <option>Apellidos</option>
                                </select>
                            </div>
                        </div>

                        <div class="col-sm-3">
                            <div _ngcontent-c14="" class="input-group">
                                <input _ngcontent-c14="" class="form-control ng-untouched ng-pristine ng-valid" name="dp" ngbdatepicker="" placeholder=""
                                    ng-reflect-name="dp">
                                <div _ngcontent-c14="" class="input-group-addon">
                                    <span _ngcontent-c14="" class="fa fa-search"></span>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-5">
                        </div>

                    </div>
                </div>
                <table class="card-body table table-hover">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Usuario</th>
                            <th>Contraseña</th>
                            <th>Nombre del Asignado</th>
                            <th>#Documento del Asignado</th>
                            <th>Activo</th>
                            <th>Editar</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let usuario of usuarios">
                            <th scope="row">{{usuario.id}}</th>
                            <td>
                                <span [innerHTML]="usuario.nombres"></span>
                            </td>
                            <td>{{usuario.apellidos}}</td>
                            <td>{{usuario.email}}</td>
                            <td>{{usuario.direccion}}</td>
                            <td>
                                <i class="fa fa-check-square-o" aria-hidden="true"></i>
                            </td>
                            <td class="sidebar">
                                <i class="fa fa-pencil editIcon" (click)="edit(usuario)" aria-hidden="true"></i>


                            </td>
                        </tr>


                    </tbody>
                </table>
            </div>


        </div>
    </div>
</div>